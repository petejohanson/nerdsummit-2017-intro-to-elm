<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Intro To Elm</title>

		<link rel="stylesheet" href="css/local.css">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/solarized-dark.css">

		<link rel="stylesheet" href="css/font-awesome.min.css">

		<script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
                document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<!-- Printing and PDF exports -->
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h2>Elm: A Delightful Language For Writing Web Apps</h2>
					<ul id="social-links">
						<li><i class="fa fa-fw fa-twitter"></i><a href="https://twitter.com/petejohanson">@petejohanson</a></li>
						<li><i class="fa fa-fw fa-github"></i><a href="https://github.com/petejohanson">@petejohanson</a></li>
					</ul>
					
				</section>
				<section>
				  <section>
				  	<img src="img/elephant-in-the-room.jpg" alt="The elephant in the room" width="740" height="457">
				  </section>
					<section>
						<h2>Functional Programming</h2>
					</section>
					<section>
						<h3>The Agreement</h3>
						<span>If you hear me say 'monad', 'lens', or 'functor', you have my permission to throw food at me.</span>
					</section>
				</section>
				<section>
				  <section>
				  	<h2>Hello, World</h2>
				  	<pre><code data-trim data-noescape class="elm">
import Html exposing (text)

main =
  text "Hello, World!"
						</code></pre>
				  </section>
				  <section>
				  	<pre><code data-trim data-noescape class="elm">
import Html exposing (beginnerProgram, div, button, text)
import Html.Events exposing (onClick)

main =
  beginnerProgram { model = 0, view = view, update = update }

view model =
  div []
    [ button [ onClick Decrement ] [ text "-" ]
    , div [] [ text (toString model) ]
    , button [ onClick Increment ] [ text "+" ]
    ]

type Msg = Increment | Decrement

update msg model =
  case msg of
    Increment -&gt;
      model + 1

    Decrement -&gt;
      model - 1
						</code></pre>
				  </section>
				</section>

				<section>
					<section>
						<h3>The Elm Architecture</h3>
					</section>

					<section>
						<h4>Model</h4>

						<aside class="notes">
							<ul>
								<li>Source of truth for application state. <em>Not</em> the DOM.</li>
								<li>Strongly typed, to avoid runtime errors.</li>
							</ul>
						</aside>

				  	<pre><code data-trim data-noescape class="elm">
type alias Model =
    { position : Position
    , drag : Maybe Drag
    }
						</code></pre>
					</section>
					
					<section>
						<h4>View Function</h4>

						<aside class="notes">
							<ul>
								<li>State as input, outputs virtual DOM</li>
								<li>Program reconciles virtual DOM diff after each render</li>
								<li>Produced HTML can emit messages as a result of handling DOM events</li>
							</ul>
						</aside>

				  	<pre><code data-trim data-noescape class="elm">
view : Int -&gt; Html Msg
view model =
  div []
    [ button [ onClick Decrement ] [ text "-" ]
    , div [] [ text (toString model) ]
    , button [ onClick Increment ] [ text "+" ]
    ]
						</code></pre>
					</section>

					<section>
						<h4>Update Function</h4>

						<aside class="notes">
							<ul>
								<li>Message union type defines the types of input to your business logic</li>
								<li>Update function takes message, and current model state, and returns new model state</li>
							</ul>
						</aside>
				  	<pre><code data-trim data-noescape>
type Msg = Increment | Decrement

update : Msg -&gt; Model -&gt; Model
update msg model =
  case msg of
    Increment -&gt;
      model + 1

    Decrement -&gt;
      model - 1
						</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h2>Development Experience</h2>
					</section>

					<section>
						<h3>Time Traveling Debugger</h3>

						<img src="img/back-to-the-future.jpg" height="545" width="970" alt="Back To The Future"/>
						<aside class="notes">
							<ul>
								<li>Possible because entire application state in model</li>
								<li>UI state is directly mapped from application state</li>
							</ul>
						</aside>
					</section>

					<section>
						<h3>Refactoring</h3>
						<aside class="notes">
							<p>Add a 'Reset' Message type!</p>
						</aside>
					</section>

					<section>
						<h3>Growth</h3>

						<!-- TODO: Add an item showing reusable up/down UI -->
						<aside class="notes">
						</aside>
					</section>
				</section>

				<section>
					<h3>Links</h3>
					<ul>
						<li>Elm - <a href="http://elm-lang.org/">http//elm-lang.org/</a></li>
						<li>Try Online - <a href="http://elm-lang.org/">http//elm-lang.org/try</a></li>
					</ul>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
